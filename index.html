<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ìˆ˜ì–´ ì˜ìƒí€´ì¦ˆ</title>
  <style>
    :root{
      --bg:#0f172a; /* slate-900 */
      --panel:#111827; /* gray-900 */
      --muted:#94a3b8; /* slate-400 */
      --text:#e5e7eb; /* gray-200 */
      --accent:#22c55e; /* green-500 */
      --accent-2:#38bdf8; /* sky-400 */
    }
    *{box-sizing:border-box}
    body{
      margin:0; background:var(--bg); color:var(--text);
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Noto Sans KR, sans-serif;
    }
    .wrap{max-width:1100px;margin:0 auto;padding:20px}
    header{display:flex;align-items:center;justify-content:space-between;gap:12px;margin-bottom:16px}
    header h1{font-size:clamp(18px,3.2vw,28px);margin:0;letter-spacing:0.2px}
    .card{background:linear-gradient(180deg, rgba(255,255,255,0.04), rgba(255,255,255,0.02));
      border:1px solid rgba(255,255,255,0.08); border-radius:16px; padding:18px; box-shadow: 0 10px 30px rgba(0,0,0,.3)}
    .row{display:flex;gap:16px;flex-wrap:wrap}
    .col{flex:1 1 320px}
    .muted{color:var(--muted)}
    button{
      background:linear-gradient(135deg, var(--accent), #16a34a);
      color:#00110a; font-weight:700; border:0; border-radius:12px; padding:14px 18px;
      font-size:18px; cursor:pointer; transition:transform .05s ease, filter .2s ease;
    }
    button:hover{filter:brightness(1.05)}
    button:active{transform:scale(0.98)}
    button.secondary{background:linear-gradient(135deg, var(--accent-2), #0284c7); color:#001018}
    .toolbar{display:flex;gap:8px;flex-wrap:wrap}
    .panel{display:flex;flex-direction:column; gap:12px}
    .label{font-size:clamp(18px,3.2vw,26px);font-weight:800}
    .badge{display:inline-block; padding:4px 10px; border-radius:999px; font-size:12px; background:#0b1220; border:1px solid rgba(255,255,255,0.1); color:var(--muted)}
    .video-grid{display:grid;grid-template-columns:1fr; gap:12px}
    @media(min-width:720px){ .video-grid{ grid-template-columns:1fr 1fr } }
    video{width:100%; aspect-ratio:16/9; background:#000; border-radius:12px; outline:0; border:1px solid rgba(255,255,255,0.08)}
    .center{text-align:center}
    .spacer{height:8px}
    .progress{height:10px; background:#111827; border-radius:999px; overflow:hidden; border:1px solid rgba(255,255,255,0.08)}
    .bar{height:100%; background:linear-gradient(90deg, var(--accent), var(--accent-2)); width:0%}
    .sr{position:absolute;left:-9999px}
    .footnote{font-size:12px;color:var(--muted)}
    .list{max-height:240px; overflow:auto; border:1px dashed rgba(255,255,255,0.15); border-radius:12px; padding:8px}
    .list details{padding:6px 4px}
    .list summary{cursor:pointer}
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <h1>ìˆ˜ì–´ ì˜ìƒí€´ì¦ˆ</h1>
      <div class="toolbar">
        <button id="restartBtn" class="secondary" title="ì²˜ìŒë¶€í„° ëœë¤ ì¬ì‹œì‘">ğŸ” ì¬ì‹œì‘</button>
        <button id="skipBtn" title="í˜„ì¬ ë¬¸ì œ ê±´ë„ˆë›°ê¸°">â­ï¸ ê±´ë„ˆë›°ê¸°</button>
      </div>
    </header>

    <div class="card panel">
      <div class="row">
        <div class="col">
          <div class="badge" id="meta"></div>
          <div class="label" id="prompt">ì‹œì‘ì„ ëˆ„ë¥´ë©´ í‘œì œì–´ë¶€í„° ì œì‹œë©ë‹ˆë‹¤.</div>
          <div class="spacer"></div>
          <div class="progress" aria-hidden="true"><div class="bar" id="bar"></div></div>
          <div class="spacer"></div>
          <div class="center">
            <button id="primaryBtn">â–¶ ì‹œì‘</button>
          </div>
        </div>
        <div class="col">
          <div class="badge">ì§„í–‰ ì•ˆë‚´</div>
          <ol class="muted" style="margin:8px 0 0 18px; line-height:1.6">
            <li><b>í‘œì œì–´ í™”ë©´</b> â€” í•œêµ­ì–´ ëŒ€ì‘í‘œí˜„ë§Œ ë³´ì—¬ì¤ë‹ˆë‹¤.</li>
            <li><b>ë‘ ì˜ìƒ ë™ì‹œ ì¬ìƒ</b> â€” ì •ë‹µ/ì˜¤ë‹µ ì˜ìƒ 2ê°œê°€ ë™ì‹œì— (ìë™ ì¬ìƒÂ·ë¬´ìŒ).</li>
            <li><b>ì •ë‹µ í™•ì¸</b> â€” ì •ë‹µ ì˜ìƒë§Œ ë‹¤ì‹œ í¬ê²Œ ì¬ìƒí•©ë‹ˆë‹¤.</li>
          </ol>
          <p class="footnote">ëª¨ë“  ë¬¸ì œì™€ ë³´ê¸° ìœ„ì¹˜ëŠ” ë§¤ íšŒì°¨ë§ˆë‹¤ ëœë¤ì…ë‹ˆë‹¤. (ëª¨ë°”ì¼ ì „ì²´í™”ë©´ì€ ë™ì˜ìƒ ìš°ì¸¡ í•˜ë‹¨ì—ì„œ ê°€ëŠ¥)</p>
        </div>
      </div>
    </div>

    <div class="card panel" id="stageDual" style="display:none">
      <div class="badge" id="dualBadge">ë™ì‹œ ì¬ìƒ</div>
      <div class="video-grid">
        <figure>
          <figcaption class="muted">A</figcaption>
          <video id="vidA" preload="metadata" playsinline muted loop></video>
        </figure>
        <figure>
          <figcaption class="muted">B</figcaption>
          <video id="vidB" preload="metadata" playsinline muted loop></video>
        </figure>
      </div>
      <div class="center"><button id="toAnswerBtn">ì •ë‹µ í™”ë©´ìœ¼ë¡œ</button></div>
    </div>

    <div class="card panel" id="stageAnswer" style="display:none">
      <div class="badge">ì •ë‹µ ì˜ìƒ</div>
      <div class="label" id="answerLabel"></div>
      <video id="answerVideo" preload="metadata" playsinline muted loop controls></video>
      <div class="center"><button id="nextBtn">ë‹¤ìŒ ë¬¸ì œ</button></div>
    </div>

    <details class="list" style="margin-top:14px">
      <summary>ğŸ“„ ë°ì´í„° ëª©ë¡ (í™•ì¸ìš©)</summary>
      <div id="dataEcho" class="footnote"></div>
    </details>
  </div>

<script>
// ====== 1) ë°ì´í„° ======
const ITEMS = [
  {g:"ê³¤ì¶©", k:"ëª¨ê¸°, ë²Œ", u:"https://ksldict.korean.go.kr/kslserv/signFile/video/main/202310/asmMaKkD4GS7gkZA.mp4"},
  {g:"ê³¤ì¶©", k:"ê°œë¯¸", u:"https://ksldict.korean.go.kr/kslserv/signFile/video/main/202509/bH3K0cR4OFufrCwY.mp4"},
  {g:"ê³¼ì¼", k:"ìˆ˜ë°•", u:"https://ksldict.korean.go.kr/kslserv/signFile/video/main/202312/hQ2rRHRJ6PxsN6Hu.mp4"},
  {g:"ê³¼ì¼", k:"ê°", u:"https://ksldict.korean.go.kr/kslserv/signFile/video/main/202410/mCyt3d67zZ4XAzpM.mp4"},
  {g:"ê³¼ì¼", k:"í¬ë„", u:"https://ksldict.korean.go.kr/kslserv/signFile/video/main/202410/MU9fwduuL3VV2pFA.mp4"},
  {g:"ê³¼ì¼", k:"ë°°[ê³¼ì¼]", u:"https://ksldict.korean.go.kr/kslserv/signFile/video/main/202410/6QK9OBbhwtZK9626.mp4"},
  {g:"ê³¼ì¼", k:"ë”¸ê¸°", u:"https://ksldict.korean.go.kr/kslserv/signFile/video/main/202410/dFwIISHASItQYrv3.mp4"},
  {g:"ê³¼ì¼", k:"ë°”ë‚˜ë‚˜", u:"https://ksldict.korean.go.kr/kslserv/signFile/video/main/202410/I0Z2L1zObk3s113i.mp4"},
  {g:"ê³¼ì¼", k:"ì°¸ì™¸", u:"https://ksldict.korean.go.kr/kslserv/signFile/video/main/202410/VIc6mXpupx1v4skZ.mp4"},
  {g:"êµí†µ", k:"ì˜¤í† ë°”ì´, ì˜¤í† ë°”ì´ë¥¼ íƒ€ë‹¤", u:"https://ksldict.korean.go.kr/kslserv/signFile/video/main/202310/pfHjaHHmFUhEyiXI.mp4"},
  {g:"êµí†µ", k:"ë¹„í–‰ê¸°", u:"https://ksldict.korean.go.kr/kslserv/signFile/video/main/202410/Gh871U2oWIHK8s6n.mp4"},
  {g:"êµí†µ", k:"ìì „ê±°", u:"https://ksldict.korean.go.kr/kslserv/signFile/video/main/202410/9c4AT8W4qyWBH2Es.mp4"},
  {g:"êµí†µ", k:"ì§€í•˜ì² , ì „ë™ì°¨", u:"https://ksldict.korean.go.kr/kslserv/signFile/video/main/202410/U1kvtqDGpOloKjHO.mp4"},
  {g:"êµí†µ", k:"íƒì‹œ", u:"https://ksldict.korean.go.kr/kslserv/signFile/video/main/202410/x8PUpOjyV6tblWmK.mp4"},
  {g:"êµí†µ", k:"ì°¨", u:"https://ksldict.korean.go.kr/kslserv/signFile/video/main/202410/CnS4kM3pofNo1brv.mp4"},
  {g:"ë™ë¬¼", k:"ì˜¤ì§•ì–´", u:"https://ksldict.korean.go.kr/kslserv/signFile/video/main/202309/TVsGvzHe5upx1lze.mp4"},
  {g:"ë™ë¬¼", k:"ê°œêµ¬ë¦¬", u:"https://ksldict.korean.go.kr/kslserv/signFile/video/main/202312/4eKYDo9An4ssdpR5.mp4"},
  {g:"ë™ë¬¼", k:"ê³ ì–‘ì´", u:"https://ksldict.korean.go.kr/kslserv/signFile/video/main/202312/LhvonIhGHuezvLtw.mp4"},
  {g:"ë™ë¬¼", k:"ê³°", u:"https://ksldict.korean.go.kr/kslserv/signFile/video/vrnt/202312/nUf0PQbqP7jCi3kc.mp4"},
  {g:"ë™ë¬¼", k:"ì†Œ", u:"https://ksldict.korean.go.kr/kslserv/signFile/video/main/202312/qUcHo5GbypIyiAAn.mp4"},
  {g:"ë™ë¬¼", k:"ì—¬ìš°", u:"https://ksldict.korean.go.kr/kslserv/signFile/video/main/202406/KfqeB8mu7tOi2nIW.mp4"},
  {g:"ì‚¬ëŒ", k:"ì•„ë“¤", u:"https://ksldict.korean.go.kr/kslserv/signFile/video/main/202410/ySRh98qSskhtvBJ1.mp4"},
  {g:"ì‚¬ëŒ", k:"ì•„ë¹ , ì•„ë²„ì§€, ë¶€ì¹œ", u:"https://ksldict.korean.go.kr/kslserv/signFile/video/main/202410/Sb05avoHmbC6fv5g.mp4"},
  {g:"ì‚¬ëŒ", k:"ì—„ë§ˆ, ì–´ë¨¸ë‹ˆ, ëª¨ì¹œ", u:"https://ksldict.korean.go.kr/kslserv/signFile/video/main/202410/J1Hp2oInFBqh95Lu.mp4"},
  {g:"ì‚¬ëŒ", k:"ì—¬ë™ìƒ, ëˆ„ì´", u:"https://ksldict.korean.go.kr/kslserv/signFile/video/main/202410/aBgnrbuZ9e2b33Lz.mp4"},
  {g:"ì‚¬ëŒ", k:"í• ë¨¸ë‹ˆ", u:"https://ksldict.korean.go.kr/kslserv/signFile/video/main/202410/rYW4xUR6VmLBuJFd.mp4"},
  {g:"ì‚¬ëŒ", k:"ì˜¤ë¹ ", u:"https://ksldict.korean.go.kr/kslserv/signFile/video/main/202410/H5l9tYCkK5xj8nwU.mp4"},
  {g:"ì‚¬ëŒ", k:"í• ì•„ë²„ì§€", u:"https://ksldict.korean.go.kr/kslserv/signFile/video/main/202410/mkxBamWAUjxnMtZt.mp4"},
  {g:"ìƒ‰", k:"ê²€ì€ìƒ‰", u:"https://ksldict.korean.go.kr/kslserv/signFile/video/202212/28/2OXaM7iOFo5065Zo.mp4"},
  {g:"ìƒ‰", k:"ë¹¨ê°„ìƒ‰", u:"https://ksldict.korean.go.kr/kslserv/signFile/video/202212/10/NHieOVvFR0VaFYEn.mp4"},
  {g:"ìƒ‰", k:"í•˜ì–€ìƒ‰", u:"https://ksldict.korean.go.kr/kslserv/signFile/video/202210/20/30XYi2pJWYNjxySZ.mp4"},
  {g:"ìƒ‰", k:"ì£¼í™©ìƒ‰", u:"https://ksldict.korean.go.kr/kslserv/signFile/video/202212/26/PyKvuVu2NfVvObLq.mp4"},
  {g:"ìƒ‰", k:"íŒŒë€ìƒ‰", u:"https://ksldict.korean.go.kr/kslserv/signFile/video/main/202410/hNf6R5dImW2yt9hU.mp4"},
  {g:"ìƒ‰", k:"ë¶„í™ìƒ‰", u:"https://ksldict.korean.go.kr/kslserv/signFile/video/vrnt/202410/spzyQety8COJ5W9o.mp4"},
  {g:"ìƒ‰", k:"ì´ˆë¡ìƒ‰", u:"https://ksldict.korean.go.kr/kslserv/signFile/video/main/202410/sq1MD78qa1I79t2t.mp4"},
  {g:"ìš”ì¼", k:"ëª©ìš”ì¼", u:"https://ksldict.korean.go.kr/kslserv/signFile/video/202210/20/oZKb2TdoZh4CBsrC.mp4"},
  {g:"ìš”ì¼", k:"ì›”ìš”ì¼", u:"https://ksldict.korean.go.kr/kslserv/signFile/video/main/202410/FPHv8HftozvrxbL2.mp4"},
  {g:"ìš”ì¼", k:"ì¼ìš”ì¼", u:"https://ksldict.korean.go.kr/kslserv/signFile/video/main/202410/Lt2TBbcs0Rcw3vlK.mp4"},
  {g:"ìš”ì¼", k:"í™”ìš”ì¼", u:"https://ksldict.korean.go.kr/kslserv/signFile/video/main/202405/mhw2TerquZORc2Lo.mp4"},
  {g:"ìš”ì¼", k:"ìˆ˜ìš”ì¼", u:"https://ksldict.korean.go.kr/kslserv/signFile/video/main/202405/YJtPw4n2s3t5fFHl.mp4"},
  {g:"ìš”ì¼", k:"ê¸ˆìš”ì¼", u:"https://ksldict.korean.go.kr/kslserv/signFile/video/main/202410/PPnrnGlvuZzxqpxm.mp4"},
  {g:"ìš”ì¼", k:"í† ìš”ì¼", u:"https://ksldict.korean.go.kr/kslserv/signFile/video/main/202410/TzSguYeULW2O3GL3.mp4"},
  {g:"ìš´ë™", k:"ë³¼ë§, ë³¼ë§ì„ í•˜ë‹¤", u:"https://ksldict.korean.go.kr/kslserv/signFile/video/202212/30/mV9FhyIqiSLl9mj3.mp4"},
  {g:"ìš´ë™", k:"ì•¼êµ¬", u:"https://ksldict.korean.go.kr/kslserv/signFile/video/main/202410/cwMnrnBUkZHycILY.mp4"},
  {g:"ìš´ë™", k:"ì¶•êµ¬, ì¶•êµ¬í•˜ë‹¤", u:"https://ksldict.korean.go.kr/kslserv/signFile/video/main/202410/bJreQiuUoj1daN1F.mp4"},
  {g:"ìš´ë™", k:"ë°°ë“œë¯¼í„´, ë°°ë“œë¯¼í„´ì„ ì¹˜ë‹¤", u:"https://ksldict.korean.go.kr/kslserv/signFile/video/main/202410/CeXEUeaSIfj3nEhg.mp4"},
  {g:"ìš´ë™", k:"ìœ ë„", u:"https://ksldict.korean.go.kr/kslserv/signFile/video/main/202410/ur0Mpee6lHp878IT.mp4"},
  {g:"ìš´ë™", k:"ì–‘ê¶", u:"https://ksldict.korean.go.kr/kslserv/signFile/video/main/202410/QFKRcg3kI3V0EtcE.mp4"},
  {g:"ìš´ë™", k:"ì”¨ë¦„", u:"https://ksldict.korean.go.kr/kslserv/signFile/video/main/202502/Lw0IqYbvrkvTFP8D.mp4"},
  {g:"ìš´ë™", k:"íœì‹±", u:"https://ksldict.korean.go.kr/kslserv/signFile/video/main/202508/xssW3ekLWyQOoAV6.mp4"},
  {g:"ìš´ë™", k:"ê³¨í”„, ê³¨í”„ë¥¼ ì¹˜ë‹¤", u:"https://ksldict.korean.go.kr/kslserv/signFile/video/main/202508/G33iLhQtU4UrOVOp.mp4"},
  {g:"ìš´ë™", k:"ë°°êµ¬", u:"https://ksldict.korean.go.kr/kslserv/signFile/video/main/202508/npCgzK8q9fq5fNfZ.mp4"},
  {g:"ìš´ë™", k:"ê²€ë„", u:"https://ksldict.korean.go.kr/kslserv/signFile/video/main/202508/9ecloSN80nqbIKvu.mp4"},
  {g:"ìš´ë™", k:"íƒêµ¬, íƒêµ¬ë¥¼ ì¹˜ë‹¤", u:"https://ksldict.korean.go.kr/kslserv/signFile/video/main/202410/F2wHmpNauZOshY85.mp4"},
  {g:"ìš´ë™", k:"í…Œë‹ˆìŠ¤", u:"https://ksldict.korean.go.kr/kslserv/signFile/video/main/202410/o2vuEbKeBhwZlQfS.mp4"},
  {g:"ìš´ë™", k:"ìˆ˜ì˜, ìˆ˜ì˜í•˜ë‹¤", u:"https://ksldict.korean.go.kr/kslserv/signFile/video/main/202410/iQPiB9V45PWr0ffZ.mp4"},
  {g:"ìš´ë™", k:"ìŠ¤ì¼€ì´íŠ¸, ìŠ¤ì¼€ì´íŠ¸ë¥¼ íƒ€ë‹¤", u:"https://ksldict.korean.go.kr/kslserv/signFile/video/main/202410/cXKXY0sdl8g0tdbD.mp4"},
  {g:"ìš´ë™", k:"ìŠ¤í‚¤, ìŠ¤í‚¤ë¥¼ íƒ€ë‹¤", u:"https://ksldict.korean.go.kr/kslserv/signFile/video/main/202410/JwEIcxoHbiIFbiN1.mp4"},
  {g:"ìš´ë™", k:"íƒœê¶Œë„", u:"https://ksldict.korean.go.kr/kslserv/signFile/video/main/202410/AOIlGEShae16XaAE.mp4"},
  {g:"ìŒë£Œ", k:"ì†Œì£¼", u:"https://ksldict.korean.go.kr/kslserv/signFile/video/main/202312/gCecMjLYSMSrN2FZ.mp4"},
  {g:"ìŒë£Œ", k:"ê°ˆìƒ‰, ì½œë¼", u:"https://ksldict.korean.go.kr/kslserv/signFile/video/main/202410/IfOgus79xrJUJ2YV.mp4"},
  {g:"ìŒë£Œ", k:"ì»¤í”¼, ë‹¤ë°©, ì¹´í˜", u:"https://ksldict.korean.go.kr/kslserv/signFile/video/main/202410/dzfTVI4rYTZQWBQv.mp4"},
  {g:"ìŒë£Œ", k:"ë…¹ì°¨", u:"https://ksldict.korean.go.kr/kslserv/signFile/video/main/202410/kNAyOf6RXmgQiUUR.mp4"},
  {g:"ìŒë£Œ", k:"ë§‰ê±¸ë¦¬", u:"https://ksldict.korean.go.kr/kslserv/signFile/video/main/202410/svQdbtY5z1HPymsd.mp4"},
  {g:"ìŒë£Œ", k:"ì‚¬ì´ë‹¤", u:"https://ksldict.korean.go.kr/kslserv/signFile/video/main/202410/2GsnJMZlfMU7Kmp2.mp4"},
  {g:"ìŒì‹", k:"ë¹µ", u:"https://ksldict.korean.go.kr/kslserv/signFile/video/main/202310/4TTOxqKn9hvUYe4j.mp4"},
  {g:"ìŒì‹", k:"ê³¼ì", u:"https://ksldict.korean.go.kr/kslserv/signFile/video/main/202410/1kyQSyLcJEhFjbP1.mp4"},
  {g:"ìŒì‹", k:"ëƒ‰ë©´", u:"https://ksldict.korean.go.kr/kslserv/signFile/video/main/202410/npMaMnXHWqUkqQ8F.mp4"},
  {g:"ìŒì‹", k:"ë‘ë¶€", u:"https://ksldict.korean.go.kr/kslserv/signFile/video/main/202410/bEnFPoKhvgNAb17J.mp4"},
  {g:"ìŒì‹", k:"ë–¡", u:"https://ksldict.korean.go.kr/kslserv/signFile/video/main/202410/fcvkDvtxHq8wOrzk.mp4"},
  {g:"ìŒì‹", k:"ë–¡êµ­", u:"https://ksldict.korean.go.kr/kslserv/signFile/video/main/202410/QqNYd7ks2bAR8CGq.mp4"},
  {g:"ìŒì‹", k:"ë¼ë©´", u:"https://ksldict.korean.go.kr/kslserv/signFile/video/main/202410/rJVVRUHGjpxogLJP.mp4"},
  {g:"ìŒì‹", k:"ë§Œë‘, ë§Œë‘ë¥¼ ë¹šë‹¤", u:"https://ksldict.korean.go.kr/kslserv/signFile/video/main/202410/FfsA19G2k4a4kdmB.mp4"},
  {g:"ìŒì‹", k:"ë¹„ë¹”ë°¥, ë³¶ìŒë°¥", u:"https://ksldict.korean.go.kr/kslserv/signFile/video/main/202410/RkCPR2ef6ceSTs63.mp4"},
  {g:"ìŒì‹", k:"ì‚¬íƒ•", u:"https://ksldict.korean.go.kr/kslserv/signFile/video/main/202410/hQKbZzrmSPVgng3Y.mp4"},
  {g:"ìŒì‹", k:"ì‹ë¹µ", u:"https://ksldict.korean.go.kr/kslserv/signFile/video/main/202410/wYC3WquWMtp7thi2.mp4"},
  {g:"ìŒì‹", k:"ìì¥ë©´", u:"https://ksldict.korean.go.kr/kslserv/signFile/video/main/202410/KZ38Hww7yE7eiGrN.mp4"},
  {g:"ìŒì‹", k:"ì¹¼êµ­ìˆ˜", u:"https://ksldict.korean.go.kr/kslserv/signFile/video/main/202410/YXDlB5LqLVqCv3lJ.mp4"},
  {g:"ìŒì‹", k:"ì¼€ì´í¬", u:"https://ksldict.korean.go.kr/kslserv/signFile/video/main/202410/TjjaMvgeZumP8WXb.mp4"},
  {g:"ìŒì‹", k:"í”¼ì", u:"https://ksldict.korean.go.kr/kslserv/signFile/video/main/202410/Cg9H4YP93NFP0pj4.mp4"},
  {g:"ìŒì‹", k:"ì‚¬ê³¼", u:"https://ksldict.korean.go.kr/kslserv/signFile/video/main/202509/54oELW4xk6bFJbFa.mp4"},
  {g:"ì¥ì†Œ", k:"í•™êµ", u:"https://ksldict.korean.go.kr/kslserv/signFile/video/main/202310/3Qq4w2F1bVzszAIk.mp4"},
  {g:"ì¥ì†Œ", k:"ë³‘ì›", u:"https://ksldict.korean.go.kr/kslserv/signFile/video/main/202410/XaQZKIUxdDeBeqdZ.mp4"},
  {g:"ì¥ì†Œ", k:"ì¹´í˜", u:"https://ksldict.korean.go.kr/kslserv/signFile/video/main/202410/U2jUWD3zlhhLzzPX.mp4"},
  {g:"ì¥ì†Œ", k:"ê°€ê²Œ", u:"https://ksldict.korean.go.kr/kslserv/signFile/video/202210/18/qZkXg3OapMSspYK1.mp4"},
  {g:"ì¥ì†Œ", k:"ê³µì›", u:"https://ksldict.korean.go.kr/kslserv/signFile/video/202212/30/Ek5yopyCrtBWLkRE.mp4"},
  {g:"ì¥ì†Œ", k:"ì¹˜ê³¼", u:"https://ksldict.korean.go.kr/kslserv/signFile/video/main/202410/DzI60KLMzqbAmvcw.mp4"},
  {g:"ì¥ì†Œ", k:"ì§‘", u:"https://ksldict.korean.go.kr/kslserv/signFile/video/main/202310/udCvSEFztUKh9xcv.mp4"},
  {g:"ì¥ì†Œ", k:"íšŒì‚¬", u:"https://ksldict.korean.go.kr/kslserv/signFile/video/main/202410/tEp7RYQrWNveYOU3.mp4"},
  {g:"ì±„ì†Œ", k:"ë°°ì¶”", u:"https://ksldict.korean.go.kr/kslserv/signFile/video/main/202407/5LaD2IdahhOYeIGy.mp4"},
  {g:"ì±„ì†Œ", k:"ì½©", u:"https://ksldict.korean.go.kr/kslserv/signFile/video/main/202410/bZEUVgmRAyzFrc7V.mp4"},
  {g:"ì±„ì†Œ", k:"ê°ì", u:"https://ksldict.korean.go.kr/kslserv/signFile/video/main/202410/ODDiYzD9G51FKsYJ.mp4"},
  {g:"ì±„ì†Œ", k:"ë¬´", u:"https://ksldict.korean.go.kr/kslserv/signFile/video/main/202410/RaZBoY2D8EYOepcd.mp4"},
  {g:"ì±„ì†Œ", k:"ì˜¤ì´", u:"https://ksldict.korean.go.kr/kslserv/signFile/video/main/202410/oEWfyNlATDVehrt4.mp4"},
];

// ====== 2) ìœ í‹¸ ======
const $ = sel => document.querySelector(sel);
function shuffle(arr){
  const a = [...arr];
  for(let i=a.length-1;i>0;i--){
    const j = Math.floor(Math.random()*(i+1));
    [a[i],a[j]]=[a[j],a[i]];
  }
  return a;
}
function pickDistractor(correctIdx){
  let j = Math.floor(Math.random()*ITEMS.length);
  if(j===correctIdx) j = (j+1) % ITEMS.length;
  return ITEMS[j];
}

// ====== 3) ìƒíƒœ ======
let order = [];
let idx = 0; // í˜„ì¬ ë¬¸ì œ ì¸ë±ìŠ¤ (order ê¸°ì¤€)
let phase = 'idle'; // 'prompt' | 'dual' | 'answer'
let current = null; // í˜„ì¬ ì •ë‹µ ì•„ì´í…œ
let distractor = null; // ì˜¤ë‹µ ì•„ì´í…œ
let correctOnLeft = true; // ì¢Œ/ìš° ëœë¤ ë°°ì¹˜

// ====== 4) ì—˜ë¦¬ë¨¼íŠ¸ ======
const meta = $('#meta');
const promptEl = $('#prompt');
const bar = $('#bar');
const primaryBtn = $('#primaryBtn');
const restartBtn = $('#restartBtn');
const skipBtn = $('#skipBtn');

const stageDual = $('#stageDual');
const dualBadge = $('#dualBadge');
const vidA = $('#vidA');
const vidB = $('#vidB');
const toAnswerBtn = $('#toAnswerBtn');

const stageAnswer = $('#stageAnswer');
const answerLabel = $('#answerLabel');
const answerVideo = $('#answerVideo');
const nextBtn = $('#nextBtn');

// ====== 5) ë Œë” & ì§„í–‰ ======
function updateMeta(){
  meta.textContent = idx<order.length
    ? `ë¬¸ì œ ${idx+1} / ${order.length}`
    : `ì™„ë£Œ`;
  const pct = idx<order.length ? Math.round(((idx)/order.length)*100) : 100;
  bar.style.width = pct+"%";
}
function showPrompt(){
  phase = 'prompt';
  stageDual.style.display = 'none';
  stageAnswer.style.display = 'none';

  current = ITEMS[ order[idx] ];
  promptEl.innerHTML = `<span class="badge">í‘œì œì–´</span> ${current.k} <span class="muted" style="font-weight:400">(${current.g})</span>`;
  primaryBtn.textContent = 'â–¶ ì˜ìƒ ë³´ê¸°';
  updateMeta();
}
function showDual(){
  phase = 'dual';
  distractor = pickDistractor(order[idx]);
  correctOnLeft = Math.random()<0.5;

  const left = correctOnLeft ? current : distractor;
  const right = correctOnLeft ? distractor : current;

  vidA.src = left.u;
  vidB.src = right.u;

  // ìë™ ì¬ìƒ (ëª¨ë°”ì¼ í˜¸í™˜ì„ ìœ„í•´ muted/playsinline ì„¸íŒ…ë¨)
  const playSafe = v => v.play().catch(()=>{});
  playSafe(vidA); playSafe(vidB);

  dualBadge.textContent = `ë™ì‹œ ì¬ìƒ Â· ì •ë‹µì€ ${correctOnLeft? 'A':'B'} ì¤‘ í•˜ë‚˜`;
  stageDual.style.display = '';
}
function showAnswer(){
  phase = 'answer';
  stageDual.style.display = 'none';
  stageAnswer.style.display = '';
  answerLabel.textContent = `${current.k}  (${current.g})`;
  answerVideo.src = current.u;
  answerVideo.currentTime = 0;
  answerVideo.play().catch(()=>{});
}
function nextQuestion(){
  idx++;
  if(idx>=order.length){
    // ì¢…ë£Œ
    phase='done';
    promptEl.textContent = 'ìˆ˜ê³ í•˜ì…¨ìŠµë‹ˆë‹¤! [ì¬ì‹œì‘]ì„ ëˆŒëŸ¬ ìƒˆ íšŒì°¨ë¥¼ ì§„í–‰í•˜ì„¸ìš”.';
    primaryBtn.textContent = 'ë‹¤ì‹œ ì‹œì‘';
    stageDual.style.display='none';
    stageAnswer.style.display='none';
    updateMeta();
    return;
  }
  showPrompt();
}

function startNewRound(){
  order = shuffle(ITEMS.map((_,i)=>i));
  idx = 0;
  phase='prompt';
  showPrompt();
}

// ====== 6) ì´ë²¤íŠ¸ ======
primaryBtn.addEventListener('click', ()=>{
  if(phase==='idle' || phase==='done'){ startNewRound(); return; }
  if(phase==='prompt'){ showDual(); return; }
});

restartBtn.addEventListener('click', startNewRound);
skipBtn.addEventListener('click', ()=>{
  if(phase==='dual' || phase==='answer' || phase==='prompt'){
    nextQuestion();
  }
});

toAnswerBtn.addEventListener('click', showAnswer);
nextBtn.addEventListener('click', nextQuestion);

// í‚¤ë³´ë“œ ë‹¨ì¶•í‚¤: Space=ë‹¤ìŒ ë‹¨ê³„, N=ë‹¤ìŒ ë¬¸ì œ, R=ì¬ì‹œì‘
window.addEventListener('keydown', (e)=>{
  if(['INPUT','TEXTAREA'].includes((e.target.tagName||''))) return;
  if(e.code==='Space'){ e.preventDefault();
    if(phase==='prompt') showDual();
    else if(phase==='dual') showAnswer();
    else if(phase==='answer') nextQuestion();
    else startNewRound();
  }
  if(e.key.toLowerCase()==='n'){ nextQuestion(); }
  if(e.key.toLowerCase()==='r'){ startNewRound(); }
});

// ë°ì´í„° ì—ì½” (ê²€í† ìš©)
(function echo(){
  const box = document.getElementById('dataEcho');
  box.innerHTML = ITEMS.map((x,i)=>`${i+1}. [${x.g}] ${x.k} â€” <span class="muted">${x.u}</span>`).join('<br>');
})();

// ì´ˆê¸° ìƒíƒœ í…ìŠ¤íŠ¸
updateMeta();
</script>
</body>
</html>
